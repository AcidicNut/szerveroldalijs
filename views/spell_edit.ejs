<%- include('header') -%>
<%- include('menu') -%>
<div class="row justify-content-center">
    <%- include('errorbox') %>
    <form class="col-6" method="post">
        <caption>
            <h2><strong>
                    <% if (typeof spell === 'undefined'){ %>
                        <% spell = {name: '', details: '', inventor: ''} %>
                        Add
                    <% } else { %>
                        Modify
                    <% } %>
                    Spell</strong></h2>
        </caption>
        <div class="form-group">
            <label for="nameInput">Name</label>
            <input type="text" required class="form-control" name="spell[name]" id="nameInput"
                   value="<%= spell.name %>">
        </div>
        <div class="form-group">
            <label for="detailsInput">Details</label>
            <input type="text" class="form-control" name="spell[details]" id="detailsInput"
                   value="<%= spell.details %>">
        </div>
        <div class="form-group">
            <label for="inventor">Inventor</label>
            <select class="form-control input-sm" name="inventor">
                <% for (key in magicians) { var magician = magicians[key]; %>
                <option value="<%= magician._id %>"><%= magician.name %></option>
                <% } %>
            </select>
        </div>
        <button id="spellAddBtn" type="submit" class="btn btn-primary">Submit</button>
        <a class="btn btn-danger" href="/spells">Cancel</a>
    </form>
    <% spell = undefined; %>
</div>
<%- include('footer') -%>